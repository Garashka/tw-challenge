(this["webpackJsonptw-challenge"]=this["webpackJsonptw-challenge"]||[]).push([[0],{55:function(e,t,a){e.exports=a.p+"static/media/logo.8dad8028.svg"},73:function(e,t,a){e.exports=a(89)},78:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(78),a(34)),i=a(35),s=a(44),u=a(43),d=a(55),m=a.n(d),p=a(63),g=a(129),h=a(139),f=a(146),E=a(42),v=a(30),b=Object(v.b)({name:"directory",initialState:{userApi:"https://reqres.in/api/users",users:[]},reducers:{setUsers:function(e,t){e.users=t.payload.data}}}),y=b.actions.setUsers,w=b.reducer,k=a(4),S=a(145),j=a(141),C=a(133),O=a(134),P=a(138),N=a(132),A=a(140),B=a(135),D=a(136),I=a(143),F=a(13),R=a(137),x=a(142),U=a(62),H=a.n(U),_=a(61),q=a.n(_),L=a(57),T=[{id:"id",numeric:!0,label:"ID"},{id:"first_name",numeric:!1,label:"First Name"},{id:"last_name",numeric:!1,label:"Surname"},{id:"email",numeric:!1,label:"Email"}],J=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={tableData:[],rowsPerPage:5,page:0,order:"asc",orderBy:"id",userApi:"",dataFetched:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.setUsers,n=t.userApi;this.props.dataFetched;fetch(n).then((function(e){return e.json()})).then((function(t){a(t),e.setState({dataFetched:!0})}))}},{key:"descendingComparator",value:function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}},{key:"getComparator",value:function(e,t){var a=this;return"desc"===e?function(e,n){return a.descendingComparator(e,n,t)}:function(e,n){return-a.descendingComparator(e,n,t)}}},{key:"stableSort",value:function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.tableData,c=this.state,l=c.page,o=c.rowsPerPage,i=c.order,s=c.orderBy,u=c.dataFetched;return r.a.createElement("div",{className:a.root},u?r.a.createElement(g.a,{className:a.paper},r.a.createElement(N.a,{className:a.table},r.a.createElement(C.a,{stickyHeader:!0},r.a.createElement(this.TableHeaders,{classes:a,order:i,orderBy:s,onRequestSort:function(t,a){var n=s===a&&"asc"===i;e.setState({order:n?"desc":"asc"}),e.setState({orderBy:a})}}),r.a.createElement(O.a,null,this.stableSort(n,this.getComparator(i,s)).slice(l*o,l*o+o).map((function(t,a){return r.a.createElement(e.Row,{key:t.id,row:t})}))),r.a.createElement(B.a,null,r.a.createElement(D.a,null,r.a.createElement(I.a,{rowsPerPageOptions:[5,10,25,50],colSpan:3,count:n.length,rowsPerPage:o,page:l,onChangePage:function(t,a){e.setState({page:a})},onChangeRowsPerPage:function(t){e.setState({rowsPerPage:parseInt(t.target.value,10)}),e.setState({page:0})}})))))):r.a.createElement("div",null,r.a.createElement(h.a,{className:a.progress})),r.a.createElement("div",null,r.a.createElement(this.DownloadButton,{classes:a,tableData:n,csvLink:this.csvLink})))}},{key:"TableHeaders",value:function(e){var t=e.classes,a=e.order,n=e.orderBy,c=e.onRequestSort;return r.a.createElement(A.a,null,r.a.createElement(D.a,null,r.a.createElement(P.a,null),T.map((function(e){return r.a.createElement(P.a,{key:e.id,sortDirection:n===e.id&&a},r.a.createElement(f.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(l=e.id,function(e){c(e,l)})},e.label,n===e.id?r.a.createElement("span",{className:t.hiddenSortIcon},"desc"===a?"sorted descending":"sorted ascending"):null));var l}))))}},{key:"Row",value:function(e){var t=e.row,a=r.a.useState(!1),n=Object(p.a)(a,2),c=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{key:t.id},r.a.createElement(P.a,null,r.a.createElement(R.a,{"aria-label":"expand row",size:"small",onClick:function(){return l(!c)}},c?r.a.createElement(q.a,null):r.a.createElement(H.a,null))),r.a.createElement(P.a,null,t.id),r.a.createElement(P.a,null,t.first_name),r.a.createElement(P.a,null,t.last_name),r.a.createElement(P.a,null,t.email)),r.a.createElement(D.a,null,r.a.createElement(P.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.a.createElement(j.a,{in:c,timeout:"auto"},r.a.createElement(S.a,{margin:1},r.a.createElement("img",{src:t.avatar,alt:"User Avatar"}))))))}},{key:"DownloadButton",value:function(e){var t=e.tableData,a=e.classes,n=r.a.createRef();return[r.a.createElement(x.a,{variant:"contained",onClick:function(){return n.current.link.click()},key:"0",className:a.button},"Export to CSV"),r.a.createElement(L.CSVLink,{data:t,filename:"directory.csv",className:"hidden",ref:n,key:"1"})]}}]),a}(r.a.Component),V={setUsers:y},W=Object(F.d)(Object(E.b)((function(e){return{tableData:e.directory.users,userApi:e.directory.userApi}}),V),Object(k.a)((function(e){return{root:{width:"100%","& > *":{margin:e.spacing(2)}},paper:{overflow:"auto"},table:{maxHeight:800},hiddenSortIcon:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},progress:{alignItems:"center",justifyContent:"center",verticalAlign:"middle",width:"100%"},button:{alignItems:"center",justifyContent:"center",verticalAlign:"middle"}}})))(J),z=(a(88),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"})),r.a.createElement("div",{className:"user-info-table"},r.a.createElement(W,null)))}}]),a}(r.a.Component)),M=Object(v.a)({reducer:{directory:w}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(E.a,{store:M},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[73,1,2]]]);
//# sourceMappingURL=main.d4e31f3e.chunk.js.map